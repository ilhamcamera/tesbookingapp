<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Ilhamcam BookingApp 1.0</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 font-montserrat text-black min-h-screen flex flex-col">
    <div class="loading fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden" id="loadingIndicator">
        <div class="animate-spin h-10 w-10 border-4 border-t-white border-white rounded-full"></div>
        <span class="ml-3 text-white">Memuat data...</span>
    </div>

    <div class="container mx-auto flex-1 flex flex-col p-4">
        <header class="flex justify-between items-center bg-red-800 text-white p-4 rounded-lg mb-4">
            <h1 class="text-xl font-medium flex items-center">
                <i class="fas fa-calendar-check mr-2"></i>Ilhamcam BookingApp 1.0
            </h1>
            <div class="flex gap-2">
                <button id="refreshBtn" class="bg-white text-red-800 p-2 rounded-full shadow hover:bg-gray-100 h-11 w-11 flex items-center justify-center">
                    <i class="fas fa-sync-alt"></i>
                </button>
                <button id="filterBtn" class="bg-white text-red-800 p-2 rounded-full shadow hover:bg-gray-100 h-11 w-11 flex items-center justify-center">
                    <i class="fas fa-filter"></i>
                </button>
            </div>
        </header>

        <nav class="flex justify-between items-center bg-white p-4 rounded-lg shadow mb-4">
            <button id="prevMonth" class="bg-white text-red-800 p-2 rounded-full shadow hover:bg-gray-100 h-11 w-11 flex items-center justify-center">
                <i class="fas fa-chevron-left"></i>
            </button>
            <div class="text-lg font-medium text-center flex-1" id="monthYearDisplay"></div>
            <button id="nextMonth" class="bg-white text-red-800 p-2 rounded-full shadow hover:bg-gray-100 h-11 w-11 flex items-center justify-center">
                <i class="fas fa-chevron-right"></i>
            </button>
        </nav>

        <div class="table-container flex-1 overflow-x-auto overflow-y-auto">
            <table class="booking-matrix w-full border-collapse" id="bookingMatrix">
                <thead>
                    <tr id="dateHeaderRow">
                        <th class="unit-header bg-white sticky top-0 left-0 z-40 p-2 text-center font-medium border border-gray-300">Barang</th>
                    </tr>
                </thead>
                <tbody id="matrixBody"></tbody>
            </table>
        </div>

        <!-- Filter Panel -->
        <div class="filter-panel fixed top-0 right-0 w-full h-full bg-white z-[1000] flex flex-col translate-x-full transition-transform duration-300" id="filterPanel">
            <div class="filter-header flex justify-between items-center bg-red-800 text-white p-4 border-b border-gray-300">
                <h2 class="text-lg font-medium">Filter</h2>
                <button id="closeFilterBtn" class="bg-white text-red-800 p-2 rounded-full shadow hover:bg-gray-100 h-11 w-11 flex items-center justify-center">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="filter-content p-4 flex-1 overflow-y-auto">
                <div class="mb-4">
                    <label for="filterCategory" class="block text-sm font-medium mb-2">Kategori:</label>
                    <select id="filterCategory" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-800 focus:border-red-800">
                        <option value="Semua">Semua</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label for="filterUnit" class="block text-sm font-medium mb-2">Barang:</label>
                    <select id="filterUnit" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-800 focus:border-red-800">
                        <option value="all" data-display-name="all">Semua Barang</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label for="filterStatus" class="block text-sm font-medium mb-2">Status:</label>
                    <select id="filterStatus" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-800 focus:border-red-800">
                        <option value="all">Semua</option>
                        <option value="booked">Terbooking</option>
                        <option value="available">Tersedia</option>
                    </select>
                </div>
                <div class="flex flex-wrap gap-4 py-3">
                    <div class="flex items-center gap-2 text-sm">
                        <div class="w-4 h-4 border border-gray-300 bg-blue-50"></div>
                        <span>Tersedia</span>
                    </div>
                    <div class="flex items-center gap-2 text-sm">
                        <div class="w-4 h-4 border border-gray-300 bg-red-50"></div>
                        <span>Terbooking</span>
                    </div>
                </div>
            </div>
            <div class="filter-footer p-3 text-center text-sm text-gray-600 border-t border-gray-300">
                Ilhamcamera & Sewaikameraiphone BookingApp
            </div>
        </div>

        <!-- Modal Booking -->
        <div class="modal fixed inset-0 bg-black bg-opacity-50 z-[1050] hidden items-center justify-center" id="bookingModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog w-full max-w-md sm:max-w-lg bg-white rounded-lg flex flex-col h-full sm:h-auto max-h-full overflow-y-auto">
                <div class="modal-header bg-red-800 text-white p-4 border-b border-gray-300 flex justify-between items-center">
                    <h5 class="text-lg font-medium"><i class="fas fa-calendar-plus mr-2"></i>Form Penyewaan</h5>
                    <button type="button" class="text-white hover:text-gray-200" data-dismiss="modal" aria-label="Close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body p-4 flex-1 overflow-y-auto">
                    <form id="bookingForm">
                        <input type="hidden" id="selectedUnit">
                        <input type="hidden" id="selectedDate">
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Barang:</label>
                            <div id="displayUnit" class="font-bold"></div>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Tanggal Sewa:</label>
                            <div id="displayDate" class="font-bold"></div>
                        </div>
                        
                        <div class="mb-4">
                            <label for="pickupTime" class="block text-sm font-medium mb-2">Jam Pengambilan:</label>
                            <input type="time" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-800 focus:border-red-800" id="pickupTime" required>
                        </div>
                        
                        <div class="mb-4">
                            <label for="returnDate" class="block text-sm font-medium mb-2">Tanggal Pengembalian:</label>
                            <input type="date" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-800 focus:border-red-800" id="returnDate" required>
                        </div>
                        
                        <div class="mb-4">
                            <label for="returnTime" class="block text-sm font-medium mb-2">Jam Pengembalian:</label>
                            <input type="time" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-800 focus:border-red-800" id="returnTime" required>
                        </div>
                        
                        <div class="mb-4">
                            <label for="customerName" class="block text-sm font-medium mb-2">Nama Lengkap *</label>
                            <input type="text" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-800 focus:border-red-800" id="customerName" required>
                        </div>
                        
                        <div class="mb-4">
                            <label for="customerPhone" class="block text-sm font-medium mb-2">Nomor Telepon *</label>
                            <input type="tel" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-800 focus:border-red-800" id="customerPhone" required>
                        </div>
                        
                        <div class="mb-4">
                            <label for="customerAddress" class="block text-sm font-medium mb-2">Alamat Lengkap *</label>
                            <textarea class="w-full p-3 border border-gray-300 rounded-lg focus:ring-red-800 focus:border-red-800" id="customerAddress" rows="3" required></textarea>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Dokumen Jaminan (Pilih minimal 3):</label>
                            <div class="grid grid-cols-2 gap-2">
                                <div class="flex items-center">
                                    <input class="h-5 w-5 mr-2" type="checkbox" name="documents" value="KTP" id="docKTP">
                                    <label for="docKTP" class="text-sm">KTP</label>
                                </div>
                                <div class="flex items-center">
                                    <input class="h-5 w-5 mr-2" type="checkbox" name="documents" value="KK" id="docKK">
                                    <label for="docKK" class="text-sm">Kartu Keluarga</label>
                                </div>
                                <div class="flex items-center">
                                    <input class="h-5 w-5 mr-2" type="checkbox" name="documents" value="SIM" id="docSIM">
                                    <label for="docSIM" class="text-sm">SIM</label>
                                </div>
                                <div class="flex items-center">
                                    <input class="h-5 w-5 mr-2" type="checkbox" name="documents" value="STNK" id="docSTNK">
                                    <label for="docSTNK" class="text-sm">STNK</label>
                                </div>
                                <div class="flex items-center">
                                    <input class="h-5 w-5 mr-2" type="checkbox" name="documents" value="IJAZAH" id="docIJAZAH">
                                    <label for="docIJAZAH" class="text-sm">IJAZAH</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="hidden bg-red-100 text-red-700 p-3 rounded-lg" id="documentsError">
                            Harap pilih minimal 3 dokumen jaminan
                        </div>
                        
                        <div class="flex justify-end gap-2 pt-4 border-t border-gray-300">
                            <button type="button" class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 flex items-center" data-dismiss="modal">
                                <i class="fas fa-times mr-2"></i> Batal
                            </button>
                            <button type="submit" class="bg-red-800 text-white px-4 py-2 rounded-lg hover:bg-red-900 flex items-center">
                                <i class="fas fa-paper-plane mr-2"></i> Kirim
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>